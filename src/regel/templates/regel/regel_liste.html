{%extends 'base.html' %}

{% block titel %}TechTrader | Regeln{%endblock%}

{%block skripte%}
  <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="  crossorigin="anonymous"></script>
{%endblock%}

{%block content%}
  <article>
    <h1>Regel</h1>

    {% comment %} <p class="allgemeine_beschreibung">Platzhalter</p> {% endcomment %}

    <form action="./hinzufuegen/">
      <input id="btnadd" type="submit" value="+ Regel hinzufÃ¼gen" />
    </form>

    <table >
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Beschreibung</th>
      </tr>
      {% for regel in object_list%}
        <tr class='clickable-row' data-href="{% url 'regel:regel-details' id=regel.id %}"> 
            <td>{{regel.id}}</td>
            <td >{{regel.name}}</td>
            <td>{{regel.beschreibung}}</td>
        </tr>
      {%endfor%}
    </table>
  </article>

    <script>
    jQuery(document).ready(function($) {
        $("table tr").hide();
        $("table tr").each(function(index){
          $(this).delay(index*100).show(500);
        });
      $(".clickable-row").click(function() {
          window.location = $(this).data("href");
      });
    });
    
  </script>
{%endblock%}